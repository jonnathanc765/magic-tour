(function(i,h){typeof exports=="object"&&typeof module<"u"?h(exports):typeof define=="function"&&define.amd?define(["exports"],h):(i=typeof globalThis<"u"?globalThis:i||self,h(i.rankmitour={}))})(this,function(i){"use strict";const h="";function a(d){document.querySelector(d).textContent="Lol"}class u{constructor(s,l,n){this.id=s,this.title=l,this.content=n}}class p{constructor(s){this.finish=!1,this.pictureInside=!1;for(const t of s)if(t instanceof u){if(!document.getElementById(t.id))throw new Error("Please ensure all steps have valid target id")}else throw new Error("Please use Step Class to initilize the steps");this.index=0,this.stepList=s,this.currentStep=s.at(this.index),this.createElement=(t,e,r)=>{const o=document.createElement(t);return o.setAttribute(e,r),o},this.appendChild=(t,...e)=>{for(const r of e)t.appendChild(r);return t};const l=function(t){let e=0,r=0,o=0,c=0;o=t.getBoundingClientRect().height,c=t.getBoundingClientRect().width;do e+=t.offsetTop||0,r+=t.offsetLeft||0,t=t.offsetParent;while(t);return{top:e,left:r,height:o,width:c}};this.render=async()=>{this.target=document.getElementById(this.currentStep.id),this.header.innerHTML=this.currentStep.title,this.content.innerHTML=this.currentStep.content,this.nextBtn.textContent=this.index+2>this.stepList.length?"Done":"Next",this.prevBtn.textContent=this.index-1<0?"End":"Back";const t=l(this.target),e=l(this.tourView);t.top+e.height+10>window.innerHeight?this.tourView.style.top=`${t.top-e.height-10}px`:this.tourView.style.top=`${t.top+t.height+10}px`,t.left+e.width+10>window.innerWidth?(this.tourView.style.left=`${t.left-e.width-10}px`,this.tourView.style.top=`${t.top}px`):this.tourView.style.left=`${t.left}px`,this.target.classList.add("tiny-tour-target")},this.getNextStep=()=>{if(this.clean(),this.index+2>this.stepList.length){n.unobserve(this.tourView),this.finish=!0,this.tourView.style.display="none";return}this.index++,this.currentStep=s.at(this.index),this.render()},this.getPrevStep=()=>{if(this.clean(),this.index-1<0){n.unobserve(this.tourView),this.finish=!0,this.tourView.style.display="none";return}this.index--,this.currentStep=s.at(this.index),this.render()},this.clean=()=>{this.nextBtn.textContent=this.index+2>this.stepList.length?"Done":"Next",this.prevBtn.textContent=this.index-1<0?"End":"Back",this.target.classList.remove("tiny-tour-target")},this.tourView=this.createElement("div","id","tiny-tour-box"),this.closeBtn=this.createElement("button","id","tiny-tour-close"),this.header=this.createElement("div","id","tiny-tour-header"),this.content=this.createElement("div","id","tiny-tour-content"),this.btnContainer=this.createElement("div","class","tiny-tour-buttons"),this.prevBtn=this.createElement("button","class","tiny-tour-prev"),this.nextBtn=this.createElement("button","class","tiny-tour-next"),this.tourView.style.transition="top 0.2s, left 0.2s",this.closeBtn.addEventListener("click",()=>{n.unobserve(this.tourView),this.target.classList.remove("tiny-tour-target"),this.finish=!0,this.tourView.style.display="none"}),this.appendChild(this.tourView,this.closeBtn,this.header,this.content,this.appendChild(this.btnContainer,this.prevBtn,this.nextBtn)),document.body.appendChild(this.tourView),this.prevBtn.addEventListener("click",this.getPrevStep),this.nextBtn.addEventListener("click",this.getNextStep);const n=new ResizeObserver(t=>{this.render()});n.observe(this.tourView),window.onresize=()=>{this.finish||(this.render(),this.scrollIntoView())},this.scrollIntoView=()=>{this.tourView.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},this.tourView.ontransitionend=()=>{this.scrollIntoView()},this.render(),this.scrollIntoView()}}i.Step=u,i.TinyTour=p,i.default=a,Object.defineProperties(i,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
